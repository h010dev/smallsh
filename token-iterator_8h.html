<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>smallsh: include/interpreter/token-iterator.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">smallsh
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple implementation of a Linux shell written in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_14a61794dcadf084e594875eaea41790.html">interpreter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">token-iterator.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>For iterating over a collection of tokens.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="shell-tokens_8h_source.html">shell-tokens.h</a>&quot;</code><br />
</div>
<p><a href="token-iterator_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenIterator.html">TokenIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object definition.  <a href="structTokenIterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenIteratorVtbl.html">TokenIteratorVtbl</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">VTable for <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object.  <a href="structTokenIteratorVtbl.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8h.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self, size_t len, <a class="el" href="structToken.html">Token</a> *tok[len])</td></tr>
<tr class="memdesc:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object.  <a href="token-iterator_8h.html#ab29cf18ebda2ad23745bf848ec16e7b4">More...</a><br /></td></tr>
<tr class="separator:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8h.html#a863f1ed6d07259bf0f8c148cff4bd637">token_iterator_dtor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self)</td></tr>
<tr class="memdesc:a863f1ed6d07259bf0f8c148cff4bd637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process.  <a href="token-iterator_8h.html#a863f1ed6d07259bf0f8c148cff4bd637">More...</a><br /></td></tr>
<tr class="separator:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For iterating over a collection of tokens. </p>
<dl class="section author"><dt>Author</dt><dd>Mohamed Al-Hussein </dd></dl>
<dl class="section date"><dt>Date</dt><dd>28 Jan 2022 </dd></dl>

<p class="definition">Definition in file <a class="el" href="token-iterator_8h_source.html">token-iterator.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab29cf18ebda2ad23745bf848ec16e7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29cf18ebda2ad23745bf848ec16e7b4">&#9670;&nbsp;</a></span>token_iterator_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structToken.html">Token</a> *&#160;</td>
          <td class="paramname"><em>tok</em>[len]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object. </p>
<p>The general implementation of a vtable, usage of const for the main object, and other OOP concepts were derived from this publication.</p>
<p><br  />
<br  />
</p>
<p>Source: <a href="https://www.state-machine.com/doc/AN_OOP_in_C.pdf">https://www.state-machine.com/doc/AN_OOP_in_C.pdf</a>* </p><dl class="section pre"><dt>Precondition</dt><dd>if <code>tokens</code> does not contain exactly <code>len</code> tokens ,then <code>tokens</code> must be terminated by a newline token to signify the end of the stream. Behavior is undefined if this is not the case. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td><code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object to initialize </td></tr>
    <tr><td class="paramname">len</td><td>length of the token array </td></tr>
    <tr><td class="paramname">tok</td><td>the token array to iterate over </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No copy is made of <code>tokens</code>, so the caller must not free or modify the parameter until they are finished using the iterator. Likewise, the caller cannot guarantee that the tokens array is left unmodified at the end of the iterators lifespan. </dd></dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00145">145</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structTokenIteratorVtbl.html">TokenIteratorVtbl</a> const vtbl = {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                .<a class="code" href="structTokenIteratorVtbl.html#aa78d706cd29d320ff63051f1fb33eb10">has_next</a> = &amp;<a class="code" href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                .next = &amp;<a class="code" href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                .peek = &amp;<a class="code" href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        };</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">vptr</a> = &amp;vtbl;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keyword">self</span>-&gt;private = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_len = len;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_tok = tok;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">private</a>-&gt;ti_cur = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="token-iterator_8h_source.html#l00048">TokenIteratorVtbl::has_next</a>, <a class="el" href="token-iterator_8c_source.html#l00054">token_iterator_has_next_()</a>, <a class="el" href="token-iterator_8c_source.html#l00075">token_iterator_next_()</a>, <a class="el" href="token-iterator_8c_source.html#l00086">token_iterator_peek_()</a>, and <a class="el" href="token_8h_source.html#l00022">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c_source.html#l00215">parser_parse_statements_()</a>.</p>

</div>
</div>
<a id="a863f1ed6d07259bf0f8c148cff4bd637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863f1ed6d07259bf0f8c148cff4bd637">&#9670;&nbsp;</a></span>token_iterator_dtor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_dtor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process. </p>
<p>The exception to this is that the <code>tokens</code> array is not freed, as that is up to the caller to perform. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The caller is responsible for freeing <code>self</code> afterwards if it was originally allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00160">160</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">self</span>-&gt;vptr = NULL;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_len = 0;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_tok = NULL;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_cur = 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        free(self-&gt;<a class="code" href="structTokenIterator.html#ad810e5f748df549c22be80c532d73e33">private</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keyword">self</span>-&gt;private = NULL;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="parser_8c_source.html#l00215">parser_parse_statements_()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="atoken-iterator_8c_html_a9b343dc1776bd60c9e6e5001c3204f5a"><div class="ttname"><a href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a></div><div class="ttdeci">static bool token_iterator_has_next_(TokenIterator const *const self)</div><div class="ttdoc">Implementation of TokenIterator::has_next().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00054">token-iterator.c:54</a></div></div>
<div class="ttc" id="astructTokenIteratorVtbl_html_aa78d706cd29d320ff63051f1fb33eb10"><div class="ttname"><a href="structTokenIteratorVtbl.html#aa78d706cd29d320ff63051f1fb33eb10">TokenIteratorVtbl::has_next</a></div><div class="ttdeci">bool(* has_next)(TokenIterator const *const self)</div><div class="ttdoc">Let's caller know if there are any more tokens left to parse from iterable.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00048">token-iterator.h:48</a></div></div>
<div class="ttc" id="astructTokenIteratorPrivate_html"><div class="ttname"><a href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a></div><div class="ttdoc">Hides TokenIterator members from client code.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00042">token-iterator.c:42</a></div></div>
<div class="ttc" id="atoken-iterator_8c_html_a9af28cb1ddefac7cb9b03700b75714b3"><div class="ttname"><a href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a></div><div class="ttdeci">static Token * token_iterator_next_(TokenIterator const *const self)</div><div class="ttdoc">Implementation of TokenIterator::next().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00075">token-iterator.c:75</a></div></div>
<div class="ttc" id="astructToken_html_a353352ae77209b60b721c5a28f12c9ac"><div class="ttname"><a href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">Token::private</a></div><div class="ttdeci">struct TokenPrivate * private</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00023">token.h:23</a></div></div>
<div class="ttc" id="astructToken_html_a759b94ee460172f9ba2e9e8a6deeacd0"><div class="ttname"><a href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">Token::vptr</a></div><div class="ttdeci">struct TokenVtbl const  * vptr</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00022">token.h:22</a></div></div>
<div class="ttc" id="atoken-iterator_8c_html_a1658892624bfb2c5b4a160d5363f52a9"><div class="ttname"><a href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a></div><div class="ttdeci">static Token token_iterator_peek_(TokenIterator const *const self, unsigned int offset)</div><div class="ttdoc">Implementation of TokenIterator::peek().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00086">token-iterator.c:86</a></div></div>
<div class="ttc" id="astructTokenIterator_html_ad810e5f748df549c22be80c532d73e33"><div class="ttname"><a href="structTokenIterator.html#ad810e5f748df549c22be80c532d73e33">TokenIterator::private</a></div><div class="ttdeci">struct TokenIteratorPrivate * private</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00022">token-iterator.h:22</a></div></div>
<div class="ttc" id="astructTokenIteratorVtbl_html"><div class="ttname"><a href="structTokenIteratorVtbl.html">TokenIteratorVtbl</a></div><div class="ttdoc">VTable for TokenIterator object.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00031">token-iterator.h:31</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
