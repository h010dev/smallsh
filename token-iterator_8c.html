<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>smallsh: src/interpreter/token-iterator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">smallsh
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple implementation of a Linux shell written in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4904b5727094acb85f1fb3ce4b540d24.html">interpreter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">token-iterator.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>For iterating over a collection of tokens.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="token-iterator_8h_source.html">interpreter/token-iterator.h</a>&quot;</code><br />
</div>
<p><a href="token-iterator_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hides <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> members from client code.  <a href="structTokenIteratorPrivate.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self)</td></tr>
<tr class="memdesc:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::has_next()</code>.  <a href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">More...</a><br /></td></tr>
<tr class="separator:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af28cb1ddefac7cb9b03700b75714b3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structToken.html">Token</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self)</td></tr>
<tr class="memdesc:a9af28cb1ddefac7cb9b03700b75714b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::next()</code>.  <a href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">More...</a><br /></td></tr>
<tr class="separator:a9af28cb1ddefac7cb9b03700b75714b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1658892624bfb2c5b4a160d5363f52a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structToken.html">Token</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self, unsigned int offset)</td></tr>
<tr class="memdesc:a1658892624bfb2c5b4a160d5363f52a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::peek()</code>.  <a href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">More...</a><br /></td></tr>
<tr class="separator:a1658892624bfb2c5b4a160d5363f52a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self, size_t len, <a class="el" href="structToken.html">Token</a> *tok[len])</td></tr>
<tr class="memdesc:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object.  <a href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">More...</a><br /></td></tr>
<tr class="separator:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a863f1ed6d07259bf0f8c148cff4bd637">token_iterator_dtor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self)</td></tr>
<tr class="memdesc:a863f1ed6d07259bf0f8c148cff4bd637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process.  <a href="token-iterator_8c.html#a863f1ed6d07259bf0f8c148cff4bd637">More...</a><br /></td></tr>
<tr class="separator:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For iterating over a collection of tokens. </p>
<dl class="section author"><dt>Author</dt><dd>Mohamed Al-Hussein </dd></dl>
<dl class="section date"><dt>Date</dt><dd>28 Jan 2022 </dd></dl>

<p class="definition">Definition in file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab29cf18ebda2ad23745bf848ec16e7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29cf18ebda2ad23745bf848ec16e7b4">&#9670;&nbsp;</a></span>token_iterator_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structToken.html">Token</a> *&#160;</td>
          <td class="paramname"><em>tok</em>[len]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object. </p>
<p>The general implementation of a vtable, usage of const for the main object, and other OOP concepts were derived from this publication.</p>
<p><br  />
<br  />
</p>
<p>Source: <a href="https://www.state-machine.com/doc/AN_OOP_in_C.pdf">https://www.state-machine.com/doc/AN_OOP_in_C.pdf</a>* </p><dl class="section pre"><dt>Precondition</dt><dd>if <code>tokens</code> does not contain exactly <code>len</code> tokens ,then <code>tokens</code> must be terminated by a newline token to signify the end of the stream. Behavior is undefined if this is not the case. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td><code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object to initialize </td></tr>
    <tr><td class="paramname">len</td><td>length of the token array </td></tr>
    <tr><td class="paramname">tok</td><td>the token array to iterate over </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No copy is made of <code>tokens</code>, so the caller must not free or modify the parameter until they are finished using the iterator. Likewise, the caller cannot guarantee that the tokens array is left unmodified at the end of the iterators lifespan. </dd></dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00145">145</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structTokenIteratorVtbl.html">TokenIteratorVtbl</a> const vtbl = {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                .<a class="code" href="structTokenIteratorVtbl.html#aa78d706cd29d320ff63051f1fb33eb10">has_next</a> = &amp;<a class="code" href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                .next = &amp;<a class="code" href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a>,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                .peek = &amp;<a class="code" href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a>,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        };</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">vptr</a> = &amp;vtbl;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keyword">self</span>-&gt;private = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a>));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_len = len;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_tok = tok;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">private</a>-&gt;ti_cur = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="token-iterator_8h_source.html#l00048">TokenIteratorVtbl::has_next</a>, <a class="el" href="token-iterator_8c_source.html#l00054">token_iterator_has_next_()</a>, <a class="el" href="token-iterator_8c_source.html#l00075">token_iterator_next_()</a>, <a class="el" href="token-iterator_8c_source.html#l00086">token_iterator_peek_()</a>, and <a class="el" href="token_8h_source.html#l00022">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c_source.html#l00215">parser_parse_statements_()</a>.</p>

</div>
</div>
<a id="a863f1ed6d07259bf0f8c148cff4bd637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863f1ed6d07259bf0f8c148cff4bd637">&#9670;&nbsp;</a></span>token_iterator_dtor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_dtor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process. </p>
<p>The exception to this is that the <code>tokens</code> array is not freed, as that is up to the caller to perform. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The caller is responsible for freeing <code>self</code> afterwards if it was originally allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00160">160</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keyword">self</span>-&gt;vptr = NULL;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_len = 0;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_tok = NULL;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keyword">self</span>-&gt;private-&gt;ti_cur = 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        free(self-&gt;<a class="code" href="structTokenIterator.html#ad810e5f748df549c22be80c532d73e33">private</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keyword">self</span>-&gt;private = NULL;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="parser_8c_source.html#l00215">parser_parse_statements_()</a>.</p>

</div>
</div>
<a id="a9b343dc1776bd60c9e6e5001c3204f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b343dc1776bd60c9e6e5001c3204f5a">&#9670;&nbsp;</a></span>token_iterator_has_next_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool token_iterator_has_next_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::has_next()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if iterator is positioned at a parseable token, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00054">54</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="structToken.html">Token</a> iter;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54">ShellTokenType</a> type;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordtype">bool</span> in_bounds;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="comment">// grab last token to check if it&#39;s a newline token</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        iter = *<span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">private</a>-&gt;ti_tok[<span class="keyword">self</span>-&gt;private-&gt;ti_cur];</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        type = (<a class="code" href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54">ShellTokenType</a>) iter.<a class="code" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">vptr</a>-&gt;<a class="code" href="structTokenVtbl.html#a9626717617c7e53cdb743d739e9a3518">get_type</a>(&amp;iter);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="comment">// cursor can be at most len - 1</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        in_bounds = <span class="keyword">self</span>-&gt;private-&gt;ti_cur &lt; <span class="keyword">self</span>-&gt;private-&gt;ti_len;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> in_bounds &amp;&amp; type != <a class="code" href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54a887cc6440dd799ceb7d66c4f1ca6bb2e">TOK_CTRL_NEWLINE</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="token_8h_source.html#l00047">TokenVtbl::get_type</a>, <a class="el" href="token_8h_source.html#l00023">Token::private</a>, <a class="el" href="shell-tokens_8h_source.html#l00018">TOK_CTRL_NEWLINE</a>, and <a class="el" href="token_8h_source.html#l00022">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c_source.html#l00145">token_iterator_ctor()</a>.</p>

</div>
</div>
<a id="a9af28cb1ddefac7cb9b03700b75714b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af28cb1ddefac7cb9b03700b75714b3">&#9670;&nbsp;</a></span>token_iterator_next_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structToken.html">Token</a>* token_iterator_next_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::next()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to next token in iterable </dd></dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00075">75</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">self</span>-&gt;private-&gt;ti_tok[<span class="keyword">self</span>-&gt;private-&gt;ti_cur++];</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="token_8h_source.html#l00023">Token::private</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c_source.html#l00145">token_iterator_ctor()</a>.</p>

</div>
</div>
<a id="a1658892624bfb2c5b4a160d5363f52a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1658892624bfb2c5b4a160d5363f52a9">&#9670;&nbsp;</a></span>token_iterator_peek_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structToken.html">Token</a> token_iterator_peek_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::peek()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
    <tr><td class="paramname">offset</td><td>how far ahead to peek </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token pointed to by iterator at given offset </dd></dl>

<p class="definition">Definition at line <a class="el" href="token-iterator_8c_source.html#l00086">86</a> of file <a class="el" href="token-iterator_8c_source.html">token-iterator.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;{</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="structToken.html">Token</a> *cur;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="structToken.html">Token</a> result;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">// store original index</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordtype">size_t</span> orig = <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">private</a>-&gt;ti_cur;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> pos = 0;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                cur = <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">vptr</a>-&gt;next(<span class="keyword">self</span>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                pos++;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        } <span class="keywordflow">while</span> (pos &lt;= offset &amp;&amp; self-&gt;vptr-&gt;has_next(<span class="keyword">self</span>));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (pos &lt;= offset) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <span class="comment">// newline token acts as null terminator for token array</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <a class="code" href="structNewlineToken.html">NewlineToken</a> n;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <a class="code" href="shell-tokens_8h.html#abad0f54f557f34ee546d1aaba60b3df1">newline_token_ctor</a>(&amp;n);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                result = *(<a class="code" href="structToken.html">Token</a> *) &amp;n;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                result = *cur;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keyword">self</span>-&gt;<a class="code" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">private</a>-&gt;ti_cur = orig;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="shell-tokens_8c_source.html#l00323">newline_token_ctor()</a>, <a class="el" href="token_8h_source.html#l00023">Token::private</a>, and <a class="el" href="token_8h_source.html#l00022">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c_source.html#l00145">token_iterator_ctor()</a>.</p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="atoken-iterator_8c_html_a9b343dc1776bd60c9e6e5001c3204f5a"><div class="ttname"><a href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a></div><div class="ttdeci">static bool token_iterator_has_next_(TokenIterator const *const self)</div><div class="ttdoc">Implementation of TokenIterator::has_next().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00054">token-iterator.c:54</a></div></div>
<div class="ttc" id="astructTokenIteratorVtbl_html_aa78d706cd29d320ff63051f1fb33eb10"><div class="ttname"><a href="structTokenIteratorVtbl.html#aa78d706cd29d320ff63051f1fb33eb10">TokenIteratorVtbl::has_next</a></div><div class="ttdeci">bool(* has_next)(TokenIterator const *const self)</div><div class="ttdoc">Let's caller know if there are any more tokens left to parse from iterable.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00048">token-iterator.h:48</a></div></div>
<div class="ttc" id="astructTokenIteratorPrivate_html"><div class="ttname"><a href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a></div><div class="ttdoc">Hides TokenIterator members from client code.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00042">token-iterator.c:42</a></div></div>
<div class="ttc" id="atoken-iterator_8c_html_a9af28cb1ddefac7cb9b03700b75714b3"><div class="ttname"><a href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a></div><div class="ttdeci">static Token * token_iterator_next_(TokenIterator const *const self)</div><div class="ttdoc">Implementation of TokenIterator::next().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00075">token-iterator.c:75</a></div></div>
<div class="ttc" id="astructToken_html"><div class="ttname"><a href="structToken.html">Token</a></div><div class="ttdoc">Defines a basic token object that has a type and value.</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00021">token.h:21</a></div></div>
<div class="ttc" id="astructToken_html_a353352ae77209b60b721c5a28f12c9ac"><div class="ttname"><a href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">Token::private</a></div><div class="ttdeci">struct TokenPrivate * private</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00023">token.h:23</a></div></div>
<div class="ttc" id="astructToken_html_a759b94ee460172f9ba2e9e8a6deeacd0"><div class="ttname"><a href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">Token::vptr</a></div><div class="ttdeci">struct TokenVtbl const  * vptr</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00022">token.h:22</a></div></div>
<div class="ttc" id="ashell-tokens_8h_html_a16a54cb1a781967b97660b0cb96e1a54a887cc6440dd799ceb7d66c4f1ca6bb2e"><div class="ttname"><a href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54a887cc6440dd799ceb7d66c4f1ca6bb2e">TOK_CTRL_NEWLINE</a></div><div class="ttdeci">@ TOK_CTRL_NEWLINE</div><div class="ttdef"><b>Definition:</b> <a href="shell-tokens_8h_source.html#l00018">shell-tokens.h:18</a></div></div>
<div class="ttc" id="ashell-tokens_8h_html_abad0f54f557f34ee546d1aaba60b3df1"><div class="ttname"><a href="shell-tokens_8h.html#abad0f54f557f34ee546d1aaba60b3df1">newline_token_ctor</a></div><div class="ttdeci">void newline_token_ctor(NewlineToken *self)</div><div class="ttdoc">Constructs a new NewlineToken object.</div><div class="ttdef"><b>Definition:</b> <a href="shell-tokens_8c_source.html#l00323">shell-tokens.c:323</a></div></div>
<div class="ttc" id="ashell-tokens_8h_html_a16a54cb1a781967b97660b0cb96e1a54"><div class="ttname"><a href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54">ShellTokenType</a></div><div class="ttdeci">ShellTokenType</div><div class="ttdoc">Defines the types of tokens our scanner will produce.</div><div class="ttdef"><b>Definition:</b> <a href="shell-tokens_8h_source.html#l00015">shell-tokens.h:15</a></div></div>
<div class="ttc" id="atoken-iterator_8c_html_a1658892624bfb2c5b4a160d5363f52a9"><div class="ttname"><a href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a></div><div class="ttdeci">static Token token_iterator_peek_(TokenIterator const *const self, unsigned int offset)</div><div class="ttdoc">Implementation of TokenIterator::peek().</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8c_source.html#l00086">token-iterator.c:86</a></div></div>
<div class="ttc" id="astructNewlineToken_html"><div class="ttname"><a href="structNewlineToken.html">NewlineToken</a></div><div class="ttdoc">Defines a token object that parses and stores a newline character.</div><div class="ttdef"><b>Definition:</b> <a href="shell-tokens_8h_source.html#l00177">shell-tokens.h:177</a></div></div>
<div class="ttc" id="astructTokenVtbl_html_a9626717617c7e53cdb743d739e9a3518"><div class="ttname"><a href="structTokenVtbl.html#a9626717617c7e53cdb743d739e9a3518">TokenVtbl::get_type</a></div><div class="ttdeci">TokenType(* get_type)(Token const *const self)</div><div class="ttdoc">Returns the token's type identifier.</div><div class="ttdef"><b>Definition:</b> <a href="token_8h_source.html#l00047">token.h:47</a></div></div>
<div class="ttc" id="astructTokenIterator_html_ad810e5f748df549c22be80c532d73e33"><div class="ttname"><a href="structTokenIterator.html#ad810e5f748df549c22be80c532d73e33">TokenIterator::private</a></div><div class="ttdeci">struct TokenIteratorPrivate * private</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00022">token-iterator.h:22</a></div></div>
<div class="ttc" id="astructTokenIteratorVtbl_html"><div class="ttname"><a href="structTokenIteratorVtbl.html">TokenIteratorVtbl</a></div><div class="ttdoc">VTable for TokenIterator object.</div><div class="ttdef"><b>Definition:</b> <a href="token-iterator_8h_source.html#l00031">token-iterator.h:31</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
