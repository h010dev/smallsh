<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>smallsh: src/interpreter/token-iterator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">smallsh
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple implementation of a Linux shell written in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4904b5727094acb85f1fb3ce4b540d24.html">interpreter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">token-iterator.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>For iterating over a collection of tokens.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="token-iterator_8h_source.html">interpreter/token-iterator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="token_8h_source.html">interpreter/token.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab999dd22fab5ecb7fad7da6d6f2907c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#ab999dd22fab5ecb7fad7da6d6f2907c7">SH_CreateTokenIterator</a> (size_t const len, <a class="el" href="structSH__Token.html">SH_Token</a> *toks[len])</td></tr>
<tr class="memdesc:ab999dd22fab5ecb7fad7da6d6f2907c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <code>TokenIterator</code> object.  <a href="token-iterator_8c.html#ab999dd22fab5ecb7fad7da6d6f2907c7">More...</a><br /></td></tr>
<tr class="separator:ab999dd22fab5ecb7fad7da6d6f2907c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a712be812bd40f54d245284cc2e2ee420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a712be812bd40f54d245284cc2e2ee420">SH_DestroyTokenIterator</a> (<a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> **iter)</td></tr>
<tr class="memdesc:a712be812bd40f54d245284cc2e2ee420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <code>TokenIterator</code> object, freeing its members and re-initializing them to <code>NULL</code> in the process.  <a href="token-iterator_8c.html#a712be812bd40f54d245284cc2e2ee420">More...</a><br /></td></tr>
<tr class="separator:a712be812bd40f54d245284cc2e2ee420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9020c9d909299b56cbaaf75bc6a4d58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#ab9020c9d909299b56cbaaf75bc6a4d58">SH_TokenIteratorHasNext</a> (<a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> const *const iter)</td></tr>
<tr class="memdesc:ab9020c9d909299b56cbaaf75bc6a4d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Let's caller know if there are any more tokens left to parse from iterable.  <a href="token-iterator_8c.html#ab9020c9d909299b56cbaaf75bc6a4d58">More...</a><br /></td></tr>
<tr class="separator:ab9020c9d909299b56cbaaf75bc6a4d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbc1b7bea8402415ebae55496f82f18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSH__Token.html">SH_Token</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a9cbc1b7bea8402415ebae55496f82f18">SH_TokenIteratorNext</a> (<a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> *const iter)</td></tr>
<tr class="memdesc:a9cbc1b7bea8402415ebae55496f82f18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the token the iterator is pointing at, then advances to the next token.  <a href="token-iterator_8c.html#a9cbc1b7bea8402415ebae55496f82f18">More...</a><br /></td></tr>
<tr class="separator:a9cbc1b7bea8402415ebae55496f82f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82aaa7ae62903d1240da5508f7a60cde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSH__Token.html">SH_Token</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a82aaa7ae62903d1240da5508f7a60cde">SH_TokenIteratorPeek</a> (<a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> *const iter, unsigned int const offset)</td></tr>
<tr class="memdesc:a82aaa7ae62903d1240da5508f7a60cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the nth token from the iterators cursor, without advancing to it.  <a href="token-iterator_8c.html#a82aaa7ae62903d1240da5508f7a60cde">More...</a><br /></td></tr>
<tr class="separator:a82aaa7ae62903d1240da5508f7a60cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For iterating over a collection of tokens. </p>
<dl class="section author"><dt>Author</dt><dd>Mohamed Al-Hussein </dd></dl>
<dl class="section date"><dt>Date</dt><dd>28 Jan 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab999dd22fab5ecb7fad7da6d6f2907c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab999dd22fab5ecb7fad7da6d6f2907c7">&#9670;&nbsp;</a></span>SH_CreateTokenIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a>* SH_CreateTokenIterator </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSH__Token.html">SH_Token</a> *&#160;</td>
          <td class="paramname"><em>toks</em>[len]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <code>TokenIterator</code> object. </p>
<p>The general implementation of a vtable, usage of const for the main object, and other OOP concepts were derived from this publication.</p>
<p><br  />
<br  />
</p>
<p>Source: <a href="https://www.state-machine.com/doc/AN_OOP_in_C.pdf">https://www.state-machine.com/doc/AN_OOP_in_C.pdf</a>* </p><dl class="section pre"><dt>Precondition</dt><dd>if <code>tokens</code> does not contain exactly <code>len</code> tokens ,then <code>tokens</code> must be terminated by a newline token to signify the end of the stream. Behavior is undefined if this is not the case. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td><code>TokenIterator</code> object to initialize </td></tr>
    <tr><td class="paramname">len</td><td>length of the token array </td></tr>
    <tr><td class="paramname">toks</td><td>the token array to iterate over </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No copy is made of <code>tokens</code>, so the caller must not free or modify the parameter until they are finished using the iterator. Likewise, the caller cannot guarantee that the tokens array is left unmodified at the end of the iterators lifespan. </dd></dl>

<p class="reference">References <a class="el" href="structSH__TokenIterator.html#aa112047f52fec0bb621cc2f24290a62b">SH_TokenIterator::cur</a>, <a class="el" href="structSH__TokenIterator.html#a37627ce8f6c6253205a6863f7e013c6b">SH_TokenIterator::len</a>, and <a class="el" href="structSH__TokenIterator.html#a7a6697b0f7b88e0be063a7e65a89b754">SH_TokenIterator::toks</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#a446e328d965e77f7e712625bdfab3a36">SH_ParserParseStmts()</a>.</p>

</div>
</div>
<a id="a712be812bd40f54d245284cc2e2ee420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a712be812bd40f54d245284cc2e2ee420">&#9670;&nbsp;</a></span>SH_DestroyTokenIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SH_DestroyTokenIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> **&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <code>TokenIterator</code> object, freeing its members and re-initializing them to <code>NULL</code> in the process. </p>
<p>The exception to this is that the <code>tokens</code> array is not freed, as that is up to the caller to perform. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>The caller is responsible for freeing <code>self</code> afterwards if it was originally allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#a446e328d965e77f7e712625bdfab3a36">SH_ParserParseStmts()</a>.</p>

</div>
</div>
<a id="ab9020c9d909299b56cbaaf75bc6a4d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9020c9d909299b56cbaaf75bc6a4d58">&#9670;&nbsp;</a></span>SH_TokenIteratorHasNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SH_TokenIteratorHasNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> const *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Let's caller know if there are any more tokens left to parse from iterable. </p>
<p><br  />
</p>
<p>The iterable is deemed exhausted under two conditions:</p>
<ol>
<li>
The iterator is pointing at the last token in the iterable. </li>
<li>
The next token in the iterable is a newline token. </li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if iterator is positioned at a valid token, false otherwise </dd></dl>

<p class="reference">References <a class="el" href="structSH__TokenIterator.html#aa112047f52fec0bb621cc2f24290a62b">SH_TokenIterator::cur</a>, <a class="el" href="structSH__TokenIterator.html#a37627ce8f6c6253205a6863f7e013c6b">SH_TokenIterator::len</a>, <a class="el" href="token_8h.html#ac13aa98b8b486d5ce9fb6f4e0f95164ca887cc6440dd799ceb7d66c4f1ca6bb2e">TOK_CTRL_NEWLINE</a>, <a class="el" href="structSH__TokenIterator.html#a7a6697b0f7b88e0be063a7e65a89b754">SH_TokenIterator::toks</a>, and <a class="el" href="structSH__Token.html#a6c87c0d6575424e3a8a385bfc86e20b7">SH_Token::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#af5324336ab64fa7295c3d8ad79ec92a4">SH_ParserParseCmd()</a>, <a class="el" href="parser_8c.html#a446e328d965e77f7e712625bdfab3a36">SH_ParserParseStmts()</a>, and <a class="el" href="token-iterator_8c.html#a82aaa7ae62903d1240da5508f7a60cde">SH_TokenIteratorPeek()</a>.</p>

</div>
</div>
<a id="a9cbc1b7bea8402415ebae55496f82f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbc1b7bea8402415ebae55496f82f18">&#9670;&nbsp;</a></span>SH_TokenIteratorNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSH__Token.html">SH_Token</a>* SH_TokenIteratorNext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the token the iterator is pointing at, then advances to the next token. </p>
<dl class="section pre"><dt>Precondition</dt><dd>It is assumed that the iterator can retrieve the next token. Behavior is undefined if this is not the case. Caller should use <code>TokenIterator::has_next()</code> to verify before calling this method. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to next token in iterable </dd></dl>

<p class="reference">References <a class="el" href="structSH__TokenIterator.html#aa112047f52fec0bb621cc2f24290a62b">SH_TokenIterator::cur</a>, and <a class="el" href="structSH__TokenIterator.html#a7a6697b0f7b88e0be063a7e65a89b754">SH_TokenIterator::toks</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#af5324336ab64fa7295c3d8ad79ec92a4">SH_ParserParseCmd()</a>, <a class="el" href="parser_8c.html#a034b9041655b29badeca722b6b9e6b58">SH_ParserParseIoRedir()</a>, <a class="el" href="parser_8c.html#a446e328d965e77f7e712625bdfab3a36">SH_ParserParseStmts()</a>, and <a class="el" href="token-iterator_8c.html#a82aaa7ae62903d1240da5508f7a60cde">SH_TokenIteratorPeek()</a>.</p>

</div>
</div>
<a id="a82aaa7ae62903d1240da5508f7a60cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82aaa7ae62903d1240da5508f7a60cde">&#9670;&nbsp;</a></span>SH_TokenIteratorPeek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSH__Token.html">SH_Token</a>* SH_TokenIteratorPeek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSH__TokenIterator.html">SH_TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the nth token from the iterators cursor, without advancing to it. </p>
<p><br  />
</p>
<p>If <code>offset</code> is equal to 0, then the token at the current position of the iterator is retrieved.</p>
<p><br  />
</p>
<p>If <code>offset</code> is positive, then the iterator will return the token that is @offset elements ahead of the current cursor.</p>
<p>This function is provided to allow for look-ahead parsing by peeking at the next token in the iterator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">iter</td><td>pointer to iterator object </td></tr>
    <tr><td class="paramname">offset</td><td>how far ahead to peek </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the nth character past the iterators cursor, or an empty <code>NewlineToken</code> object if no more tokens to seek past </dd></dl>

<p class="reference">References <a class="el" href="structSH__TokenIterator.html#aa112047f52fec0bb621cc2f24290a62b">SH_TokenIterator::cur</a>, <a class="el" href="token_8h.html#a9e0e32677efb459b6421c8401456c9e7">SH_CreateToken()</a>, <a class="el" href="token-iterator_8c.html#ab9020c9d909299b56cbaaf75bc6a4d58">SH_TokenIteratorHasNext()</a>, <a class="el" href="token-iterator_8c.html#a9cbc1b7bea8402415ebae55496f82f18">SH_TokenIteratorNext()</a>, and <a class="el" href="token_8h.html#ac13aa98b8b486d5ce9fb6f4e0f95164ca887cc6440dd799ceb7d66c4f1ca6bb2e">TOK_CTRL_NEWLINE</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#af5324336ab64fa7295c3d8ad79ec92a4">SH_ParserParseCmd()</a>, <a class="el" href="parser_8c.html#a034b9041655b29badeca722b6b9e6b58">SH_ParserParseIoRedir()</a>, and <a class="el" href="parser_8c.html#a446e328d965e77f7e712625bdfab3a36">SH_ParserParseStmts()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
