<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>smallsh: src/interpreter/token-iterator.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">smallsh
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple implementation of a Linux shell written in C.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4904b5727094acb85f1fb3ce4b540d24.html">interpreter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">token-iterator.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>For iterating over a collection of tokens.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="token-iterator_8h_source.html">interpreter/token-iterator.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTokenIteratorPrivate.html">TokenIteratorPrivate</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hides <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> members from client code.  <a href="structTokenIteratorPrivate.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self)</td></tr>
<tr class="memdesc:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::has_next()</code>.  <a href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">More...</a><br /></td></tr>
<tr class="separator:a9b343dc1776bd60c9e6e5001c3204f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af28cb1ddefac7cb9b03700b75714b3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structToken.html">Token</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self)</td></tr>
<tr class="memdesc:a9af28cb1ddefac7cb9b03700b75714b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::next()</code>.  <a href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">More...</a><br /></td></tr>
<tr class="separator:a9af28cb1ddefac7cb9b03700b75714b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1658892624bfb2c5b4a160d5363f52a9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structToken.html">Token</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> const *const self, unsigned int offset)</td></tr>
<tr class="memdesc:a1658892624bfb2c5b4a160d5363f52a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of <code>TokenIterator::peek()</code>.  <a href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">More...</a><br /></td></tr>
<tr class="separator:a1658892624bfb2c5b4a160d5363f52a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self, size_t len, <a class="el" href="structToken.html">Token</a> *tok[len])</td></tr>
<tr class="memdesc:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object.  <a href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">More...</a><br /></td></tr>
<tr class="separator:ab29cf18ebda2ad23745bf848ec16e7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="token-iterator_8c.html#a863f1ed6d07259bf0f8c148cff4bd637">token_iterator_dtor</a> (<a class="el" href="structTokenIterator.html">TokenIterator</a> *self)</td></tr>
<tr class="memdesc:a863f1ed6d07259bf0f8c148cff4bd637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process.  <a href="token-iterator_8c.html#a863f1ed6d07259bf0f8c148cff4bd637">More...</a><br /></td></tr>
<tr class="separator:a863f1ed6d07259bf0f8c148cff4bd637"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>For iterating over a collection of tokens. </p>
<dl class="section author"><dt>Author</dt><dd>Mohamed Al-Hussein </dd></dl>
<dl class="section date"><dt>Date</dt><dd>28 Jan 2022 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab29cf18ebda2ad23745bf848ec16e7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29cf18ebda2ad23745bf848ec16e7b4">&#9670;&nbsp;</a></span>token_iterator_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structToken.html">Token</a> *&#160;</td>
          <td class="paramname"><em>tok</em>[len]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object. </p>
<p>The general implementation of a vtable, usage of const for the main object, and other OOP concepts were derived from this publication.</p>
<p><br  />
<br  />
</p>
<p>Source: <a href="https://www.state-machine.com/doc/AN_OOP_in_C.pdf">https://www.state-machine.com/doc/AN_OOP_in_C.pdf</a>* </p><dl class="section pre"><dt>Precondition</dt><dd>if <code>tokens</code> does not contain exactly <code>len</code> tokens ,then <code>tokens</code> must be terminated by a newline token to signify the end of the stream. Behavior is undefined if this is not the case. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td><code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object to initialize </td></tr>
    <tr><td class="paramname">len</td><td>length of the token array </td></tr>
    <tr><td class="paramname">tok</td><td>the token array to iterate over </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No copy is made of <code>tokens</code>, so the caller must not free or modify the parameter until they are finished using the iterator. Likewise, the caller cannot guarantee that the tokens array is left unmodified at the end of the iterators lifespan. </dd></dl>

<p class="reference">References <a class="el" href="structTokenIteratorVtbl.html#aa78d706cd29d320ff63051f1fb33eb10">TokenIteratorVtbl::has_next</a>, <a class="el" href="token-iterator_8c.html#a9b343dc1776bd60c9e6e5001c3204f5a">token_iterator_has_next_()</a>, <a class="el" href="token-iterator_8c.html#a9af28cb1ddefac7cb9b03700b75714b3">token_iterator_next_()</a>, <a class="el" href="token-iterator_8c.html#a1658892624bfb2c5b4a160d5363f52a9">token_iterator_peek_()</a>, and <a class="el" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#ac8de4642e7b3f20e95a4b0ccc5c6db69">parser_parse_statements_()</a>.</p>

</div>
</div>
<a id="a863f1ed6d07259bf0f8c148cff4bd637"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863f1ed6d07259bf0f8c148cff4bd637">&#9670;&nbsp;</a></span>token_iterator_dtor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void token_iterator_dtor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a <code><a class="el" href="structTokenIterator.html" title="TokenIterator object definition.">TokenIterator</a></code> object, freeing its members and re-initializing them to <code>NULL</code> in the process. </p>
<p>The exception to this is that the <code>tokens</code> array is not freed, as that is up to the caller to perform. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The caller is responsible for freeing <code>self</code> afterwards if it was originally allocated on the heap. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">Referenced by <a class="el" href="parser_8c.html#ac8de4642e7b3f20e95a4b0ccc5c6db69">parser_parse_statements_()</a>.</p>

</div>
</div>
<a id="a9b343dc1776bd60c9e6e5001c3204f5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b343dc1776bd60c9e6e5001c3204f5a">&#9670;&nbsp;</a></span>token_iterator_has_next_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool token_iterator_has_next_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::has_next()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if iterator is positioned at a parseable token, false otherwise </dd></dl>

<p class="reference">References <a class="el" href="structTokenVtbl.html#a9626717617c7e53cdb743d739e9a3518">TokenVtbl::get_type</a>, <a class="el" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">Token::private</a>, <a class="el" href="shell-tokens_8h.html#a16a54cb1a781967b97660b0cb96e1a54a887cc6440dd799ceb7d66c4f1ca6bb2e">TOK_CTRL_NEWLINE</a>, and <a class="el" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor()</a>.</p>

</div>
</div>
<a id="a9af28cb1ddefac7cb9b03700b75714b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af28cb1ddefac7cb9b03700b75714b3">&#9670;&nbsp;</a></span>token_iterator_next_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structToken.html">Token</a>* token_iterator_next_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::next()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to next token in iterable </dd></dl>

<p class="reference">References <a class="el" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">Token::private</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor()</a>.</p>

</div>
</div>
<a id="a1658892624bfb2c5b4a160d5363f52a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1658892624bfb2c5b4a160d5363f52a9">&#9670;&nbsp;</a></span>token_iterator_peek_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structToken.html">Token</a> token_iterator_peek_ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTokenIterator.html">TokenIterator</a> const *const&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of <code>TokenIterator::peek()</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>pointer to iterator object </td></tr>
    <tr><td class="paramname">offset</td><td>how far ahead to peek </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>token pointed to by iterator at given offset </dd></dl>

<p class="reference">References <a class="el" href="shell-tokens_8h.html#abad0f54f557f34ee546d1aaba60b3df1">newline_token_ctor()</a>, <a class="el" href="structToken.html#a353352ae77209b60b721c5a28f12c9ac">Token::private</a>, and <a class="el" href="structToken.html#a759b94ee460172f9ba2e9e8a6deeacd0">Token::vptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="token-iterator_8c.html#ab29cf18ebda2ad23745bf848ec16e7b4">token_iterator_ctor()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
